<!doctype html><html lang=en dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Claude Code Tips | vtok.xyz</title><meta name=keywords content="AI,Agents,Claude Code"><meta name=description content="Practical tips for working with Claude Code: managing context window and adapting your approach based on task complexity."><meta name=author content="vtok"><link rel=canonical href=https://vtok.xyz/posts/claude-code-tips/><link crossorigin=anonymous href=/assets/css/stylesheet.343cc480b9ffc8f04ccbe5e968ad674880cab773ec19905e93033065c1e7a804.css integrity="sha256-NDzEgLn/yPBMy+XpaK1nSIDKt3PsGZBekwMwZcHnqAQ=" rel="preload stylesheet" as=style><link rel=icon href=https://vtok.xyz/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://vtok.xyz/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://vtok.xyz/favicon-32x32.png><link rel=apple-touch-icon href=https://vtok.xyz/apple-touch-icon.png><link rel=mask-icon href=https://vtok.xyz/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://vtok.xyz/posts/claude-code-tips/><link rel=alternate hreflang=ru href=https://vtok.xyz/ru/posts/claude-code-tips/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-WSSJJER82J"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-WSSJJER82J")}</script><meta property="og:url" content="https://vtok.xyz/posts/claude-code-tips/"><meta property="og:site_name" content="vtok.xyz"><meta property="og:title" content="Claude Code Tips"><meta property="og:description" content="Practical tips for working with Claude Code: managing context window and adapting your approach based on task complexity."><meta property="og:locale" content="en-gb"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-11-30T00:00:00+00:00"><meta property="article:modified_time" content="2025-11-30T00:00:00+00:00"><meta property="article:tag" content="AI"><meta property="article:tag" content="Agents"><meta property="article:tag" content="Claude Code"><meta name=twitter:card content="summary"><meta name=twitter:title content="Claude Code Tips"><meta name=twitter:description content="Practical tips for working with Claude Code: managing context window and adapting your approach based on task complexity."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://vtok.xyz/posts/"},{"@type":"ListItem","position":2,"name":"Claude Code Tips","item":"https://vtok.xyz/posts/claude-code-tips/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Claude Code Tips","name":"Claude Code Tips","description":"Practical tips for working with Claude Code: managing context window and adapting your approach based on task complexity.","keywords":["AI","Agents","Claude Code"],"articleBody":"Introduction I’ve been using Claude Code since its release — every day, on real tasks. I’ve gone from being a skeptic (“just another hype tool”) to a fanatic (“the agent will do everything itself”). Eventually, I arrived at a set of rules that help avoid extremes.\nFor me, Claude Code is the best agent on the market. I tried Cursor, Gemini CLI, Codex, but the difference is palpable. Anthropic really invests in the product and regularly adds features.\nThis article is for those starting to work with Claude Code. Experienced users will find much familiar, but something will surely resonate. Two parts: how not to clog the context and how to change your approach depending on the task.\nWatch out for context window dilution The context window is the main parameter affecting the agent’s “intelligence”. The more information is in it, the more the quality of answers degrades: the agent starts missing important details. Therefore, it is critical to keep only information relevant to the task in the context.\nAggressively use /clear I use /clear every time I finish working on a subtask — even if the next one is related to the previous one. Yes, previous context might help the agent in the next step. However, it is better to estimate intuitively what part of the remaining information is truly useful. If it’s less than 50%, it’s better to clear the window and let the agent gather the necessary data again.\nDon’t overload the agent with MCP servers MCP Tools get into the prompt with every request — the agent needs their descriptions to decide which tool to call. The problem is that this greatly bloats the context: a couple of MCP servers can eat up 50% of the window even before you write the first request. At the same time, most tools you probably won’t use at all.\nWhat to do:\nDisable unnecessary MCP servers. If you create a Jira task once a month and createIssue is the only tool you use, it’s better to disable this server. Create tasks manually or set up a separate agent in Claude Desktop. Limit the list of tools. Some MCP servers allow specifying which tools to connect. If your server supports this — go through the list and leave only the necessary ones. Unfortunately, Claude Code currently has no built-in way to filter tools — everything depends on support from the specific MCP server. Many servers do not provide this capability yet.\nAnother limitation: you cannot connect MCP tools only to a sub-agent, leaving the main agent “clean”.\nUse Skills Skills are “lazy” instructions. They are loaded into the prompt only when needed.\nSooner or later you will encounter a situation: the agent solves a task not as is customary in your project. Writes migrations without IF NOT EXISTS, creates endpoints in a different format, uses the wrong logging style.\nThe first thought is to add rules to CLAUDE.md:\nWhen you write database migrations always use IF NOT EXISTS instruction for columns, tables, etc. This works, but over time CLAUDE.md grows. Instructions on migrations, API, tests, code style — everything in one file. As a result, the system prompt takes up 30% of the context, and for the current task, only 10% is relevant. Why load migration rules if you are writing a unit test?\nSkills solve this problem. A skill consists of a header (when to activate) and a body (the instructions themselves). The agent only sees the headers, and loads the body as needed. Received a migration task — skill activated — instructions in context. Writing a test — the migration skill is not touched.\nNote: As of November 2025, skills are unstable. The agent often does not activate a skill, even if the task fits the description perfectly — this is a known problem that many complain about.\nThe Claude Code team is experimenting with solutions: hooks, manual classification. Some colleagues are reinventing the mechanism altogether — putting instructions in a separate folder and writing in CLAUDE.md when to read which file. Surprisingly, it works better.\nI’m not bothering with customisation yet — waiting for a fix from Anthropic, the problem is too noticeable to ignore. Meanwhile, I invest in precise skill headers to increase the chance of activation.\nUse Sub agents Sub agents also help with context, but protect against something else — garbage in command and tool output.\nA classic example is running tests. The output of go test ./... contains a heap of information that the agent doesn’t need. Why does it need to know about 200 successful tests? Only the failed ones matter.\nThe solution is to create a sub-agent via the /agents command. It receives a task from the main agent, runs tests in its own context window, and returns only the essence: which tests failed and why. The main agent receives a clean, compressed result instead of a sheet of logs.\nAdapt your approach based on the task In production, the approach differs from vibe-coding, where you can ignore the code and only watch the result.\nI divide tasks into three types:\nTypical — 95% consist of patterns already present in the codebase Specific — there are unique parts requiring special attention Absolutely new — need to develop an important subsystem from scratch Plan mode for agent-first tasks I give typical tasks to the agent entirely — let it solve e2e, I only review the result.\nPlan Mode is convenient here. You describe the task at a high level, the agent builds a plan, you adjust it and start execution. Usually, I change the plan 1–3 times, pressing “Keep planning” and clarifying details until the plan is completely satisfactory.\nIterative approach for human-first tasks I break specific tasks into stages. I give the agent a small chunk, check the result, make edits, commit, and move to the next. More control, more quality, but also more involvement — you lead the process, the agent helps.\nImportant: secure successful steps via git commit. The agent often starts well but ends poorly — and then uncommitted changes turn out to be mixed up, making rollback painful.\nNote: Claude Code has a /rewind command to rollback unsuccessful iterations. I almost don’t use it (probably in vain) and rely on git. If you have experience with /rewind — write in the comments how reliably it works.\nI almost don’t use Plan Mode here — tasks are smaller, it’s easier to check the result via git diff and adjust code, not the plan.\nDon’t use Claude Code for absolutely new tasks For the third type of tasks, I refuse Claude Code altogether. I use a regular LLM for questions, snippets, and hints, but I do all the development myself.\nWhy? When you write a new subsystem from scratch, it is important to control every aspect. Do not let the LLM introduce its approaches. In prototypes — please, let the agent create. But in production code, I want to know exactly how everything is organised and be sure of every line.\nConclusion Two main principles:\nKeep the context clean. Aggressively use /clear, disable unnecessary MCP servers, move instructions to skills, and noisy output to sub-agents. The less garbage in the context, the smarter the agent.\nMatch the level of control to the task. Give typical tasks to the agent entirely via Plan Mode. Break specific ones into stages and commit every successful step. Write absolutely new subsystems yourself, using LLM only for hints.\nClaude Code is a powerful tool, but not a magic wand. The result depends on how consciously you use it.\n","wordCount":"1264","inLanguage":"en","datePublished":"2025-11-30T00:00:00Z","dateModified":"2025-11-30T00:00:00Z","author":{"@type":"Person","name":"vtok"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://vtok.xyz/posts/claude-code-tips/"},"publisher":{"@type":"Organization","name":"vtok.xyz","logo":{"@type":"ImageObject","url":"https://vtok.xyz/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://vtok.xyz/ accesskey=h title="vtok.xyz (Alt + H)">vtok.xyz</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://vtok.xyz/ru/ title=Русский aria-label=Русский>Ru</a></li></ul></div></div><ul id=menu><li><a href=https://vtok.xyz/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://vtok.xyz/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://vtok.xyz/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://vtok.xyz/>Home</a>&nbsp;»&nbsp;<a href=https://vtok.xyz/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Claude Code Tips</h1><div class=post-meta><span title='2025-11-30 00:00:00 +0000 UTC'>November 30, 2025</span>&nbsp;·&nbsp;<span>6 min</span>&nbsp;·&nbsp;<span>vtok</span>&nbsp;|&nbsp;<span>Translations:</span><ul class=i18n_list><li><a href=https://vtok.xyz/ru/posts/claude-code-tips/>Ru</a></li></ul></div></header><div class=post-content><h2 id=introduction>Introduction<a hidden class=anchor aria-hidden=true href=#introduction>#</a></h2><p>I&rsquo;ve been using Claude Code since its release — every day, on real tasks. I&rsquo;ve gone from being a skeptic (&ldquo;just another hype tool&rdquo;) to a fanatic (&ldquo;the agent will do everything itself&rdquo;). Eventually, I arrived at a set of rules that help avoid extremes.</p><p>For me, Claude Code is the best agent on the market. I tried Cursor, Gemini CLI, Codex, but the difference is palpable. Anthropic really invests in the product and regularly adds features.</p><p>This article is for those starting to work with Claude Code. Experienced users will find much familiar, but something will surely resonate. Two parts: how not to clog the context and how to change your approach depending on the task.</p><h2 id=watch-out-for-context-window-dilution>Watch out for context window dilution<a hidden class=anchor aria-hidden=true href=#watch-out-for-context-window-dilution>#</a></h2><p>The context window is the main parameter affecting the agent&rsquo;s &ldquo;intelligence&rdquo;. The more information is in it, <a href=https://research.trychroma.com/context-rot>the more the quality of answers degrades</a>: the agent starts missing important details. Therefore, it is critical to keep only information relevant to the task in the context.</p><p><img alt="Context rot research" loading=lazy src=/posts/claude-code-tips/context-rot.png></p><h3 id=aggressively-use-clear>Aggressively use <code>/clear</code><a hidden class=anchor aria-hidden=true href=#aggressively-use-clear>#</a></h3><p>I use <code>/clear</code> every time I finish working on a subtask — even if the next one is related to the previous one. Yes, previous context might help the agent in the next step. However, it is better to estimate intuitively what part of the remaining information is truly useful. If it&rsquo;s less than 50%, it&rsquo;s better to clear the window and let the agent gather the necessary data again.</p><h3 id=dont-overload-the-agent-with-mcp-servers>Don&rsquo;t overload the agent with MCP servers<a hidden class=anchor aria-hidden=true href=#dont-overload-the-agent-with-mcp-servers>#</a></h3><p>MCP Tools get into the prompt with every request — the agent needs their descriptions to decide which tool to call. The problem is that this greatly bloats the context: a couple of MCP servers can eat up 50% of the window even before you write the first request. At the same time, most tools you probably won&rsquo;t use at all.</p><p>What to do:</p><ol><li><strong>Disable unnecessary MCP servers.</strong> If you create a Jira task once a month and <code>createIssue</code> is the only tool you use, it&rsquo;s better to disable this server. Create tasks manually or set up a separate agent in Claude Desktop.</li><li><strong>Limit the list of tools.</strong> Some MCP servers allow specifying which tools to connect. If your server supports this — go through the list and leave only the necessary ones.</li></ol><p>Unfortunately, Claude Code currently <a href=https://github.com/anthropics/claude-code/issues/7328>has no built-in way to filter tools</a> — everything depends on support from the specific MCP server. Many servers do not provide this capability yet.</p><p>Another limitation: you cannot connect <a href=https://github.com/anthropics/claude-code/issues/6915>MCP tools only to a sub-agent</a>, leaving the main agent &ldquo;clean&rdquo;.</p><h3 id=use-skills>Use Skills<a hidden class=anchor aria-hidden=true href=#use-skills>#</a></h3><p><a href=https://www.claude.com/blog/skills>Skills are &ldquo;lazy&rdquo; instructions</a>. They are loaded into the prompt only when needed.</p><p>Sooner or later you will encounter a situation: the agent solves a task not as is customary in your project. Writes migrations without <code>IF NOT EXISTS</code>, creates endpoints in a different format, uses the wrong logging style.</p><p>The first thought is to add rules to <code>CLAUDE.md</code>:</p><pre tabindex=0><code>When you write database migrations always use IF NOT EXISTS
instruction for columns, tables, etc.
</code></pre><p>This works, but over time <code>CLAUDE.md</code> grows. Instructions on migrations, API, tests, code style — everything in one file. As a result, the system prompt takes up 30% of the context, and for the current task, only 10% is relevant. Why load migration rules if you are writing a unit test?</p><p>Skills solve this problem. A skill consists of a header (when to activate) and a body (the instructions themselves). The agent only sees the headers, and loads the body as needed. Received a migration task — skill activated — instructions in context. Writing a test — the migration skill is not touched.</p><blockquote><p><strong>Note:</strong> As of November 2025, skills are unstable. The agent often does not activate a skill, even if the task fits the description perfectly — this is a known problem that many complain about.</p><p>The Claude Code team is experimenting with solutions: <a href=https://scottspence.com/posts/how-to-make-claude-code-skills-activate-reliably>hooks, manual classification</a>. Some colleagues are reinventing the mechanism altogether — putting instructions in a separate folder and writing in CLAUDE.md when to read which file. Surprisingly, it works better.</p><p>I&rsquo;m not bothering with customisation yet — waiting for a fix from Anthropic, the problem is too noticeable to ignore. Meanwhile, I invest in precise skill headers to increase the chance of activation.</p></blockquote><h3 id=use-sub-agents>Use Sub agents<a hidden class=anchor aria-hidden=true href=#use-sub-agents>#</a></h3><p><a href=https://code.claude.com/docs/en/sub-agents>Sub agents</a> also help with context, but protect against something else — garbage in command and tool output.</p><p>A classic example is running tests. The output of <code>go test ./...</code> contains a heap of information that the agent doesn&rsquo;t need. Why does it need to know about 200 successful tests? Only the failed ones matter.</p><p>The solution is to create a sub-agent via the <code>/agents</code> command. It receives a task from the main agent, runs tests in its own context window, and returns only the essence: which tests failed and why. The main agent receives a clean, compressed result instead of a sheet of logs.</p><p><img alt="Sub agents workflow" loading=lazy src=/posts/claude-code-tips/subagents.png></p><h2 id=adapt-your-approach-based-on-the-task>Adapt your approach based on the task<a hidden class=anchor aria-hidden=true href=#adapt-your-approach-based-on-the-task>#</a></h2><p>In production, the approach differs from vibe-coding, where you can ignore the code and only watch the result.</p><p>I divide tasks into three types:</p><ol><li><strong>Typical</strong> — 95% consist of patterns already present in the codebase</li><li><strong>Specific</strong> — there are unique parts requiring special attention</li><li><strong>Absolutely new</strong> — need to develop an important subsystem from scratch</li></ol><p><img alt="Task types diagram" loading=lazy src=/posts/claude-code-tips/task-types.png></p><h3 id=plan-mode-for-agent-first-tasks>Plan mode for agent-first tasks<a hidden class=anchor aria-hidden=true href=#plan-mode-for-agent-first-tasks>#</a></h3><p>I give typical tasks to the agent entirely — let it solve e2e, I only review the result.</p><p>Plan Mode is convenient here. You describe the task at a high level, the agent builds a plan, you adjust it and start execution. Usually, I change the plan 1–3 times, pressing &ldquo;Keep planning&rdquo; and clarifying details until the plan is completely satisfactory.</p><h3 id=iterative-approach-for-human-first-tasks>Iterative approach for human-first tasks<a hidden class=anchor aria-hidden=true href=#iterative-approach-for-human-first-tasks>#</a></h3><p>I break specific tasks into stages. I give the agent a small chunk, check the result, make edits, commit, and move to the next. More control, more quality, but also more involvement — you lead the process, the agent helps.</p><p>Important: secure successful steps via git commit. The agent often starts well but ends poorly — and then uncommitted changes turn out to be mixed up, making rollback painful.</p><blockquote><p><strong>Note:</strong> Claude Code has a <code>/rewind</code> command to rollback unsuccessful iterations. I almost don&rsquo;t use it (probably in vain) and rely on git. If you have experience with <code>/rewind</code> — write in the comments how reliably it works.</p></blockquote><p>I almost don&rsquo;t use Plan Mode here — tasks are smaller, it&rsquo;s easier to check the result via <code>git diff</code> and adjust code, not the plan.</p><h3 id=dont-use-claude-code-for-absolutely-new-tasks>Don&rsquo;t use Claude Code for absolutely new tasks<a hidden class=anchor aria-hidden=true href=#dont-use-claude-code-for-absolutely-new-tasks>#</a></h3><p>For the third type of tasks, I refuse Claude Code altogether. I use a regular LLM for questions, snippets, and hints, but I do all the development myself.</p><p>Why? When you write a new subsystem from scratch, it is important to control every aspect. Do not let the LLM introduce its approaches. In prototypes — please, let the agent create. But in production code, I want to know exactly how everything is organised and be sure of every line.</p><h2 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h2><p>Two main principles:</p><p><strong>Keep the context clean.</strong> Aggressively use <code>/clear</code>, disable unnecessary MCP servers, move instructions to skills, and noisy output to sub-agents. The less garbage in the context, the smarter the agent.</p><p><strong>Match the level of control to the task.</strong> Give typical tasks to the agent entirely via Plan Mode. Break specific ones into stages and commit every successful step. Write absolutely new subsystems yourself, using LLM only for hints.</p><p>Claude Code is a powerful tool, but not a magic wand. The result depends on how consciously you use it.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://vtok.xyz/tags/ai/>AI</a></li><li><a href=https://vtok.xyz/tags/agents/>Agents</a></li><li><a href=https://vtok.xyz/tags/claude-code/>Claude Code</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://vtok.xyz/>vtok.xyz</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>